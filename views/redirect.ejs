<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirect</title>
</head>
<body style="background-color: rgb(39, 37, 37); color:aliceblue">
    <center>
        <h2><%= message%></h2>
        <hr>
        <div id="seconds_display"></div>
        <img src="/pics/reload2.gif" alt="reload gif" height="20px" width="20px">
    </center>
</body>
<script>
    let seconds = 0;
    const displaySeconds =()=>{
        seconds+=1;
        document.getElementById("seconds_display").innerText = `You will be redirected to the login page in ${seconds} seconds...`
    }
    setInterval(displaySeconds,1000)

    const redirect = () =>{
        fetch("/auth/invalid-login",{
            method:'get'
        })
        .then((response)=> response.json())
        .then((data)=> window.location.href = data.redirect)
        .catch((err)=> console.log(err))
    }
    setTimeout(redirect,5000)
</script>
</html>